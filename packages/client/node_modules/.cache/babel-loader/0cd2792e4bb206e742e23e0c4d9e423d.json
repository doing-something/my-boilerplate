{"ast":null,"code":"var _jsxFileName = \"/home/skyparci/work/my-boilerplate/packages/client/src/components/Header/LogInOutButton.js\";\nimport React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { withRouter } from 'react-router'; // apollo\n\nimport { useApolloClient } from '@apollo/react-hooks'; // utils\n\nimport { isLoggedIn } from 'utils'; // styles\n\nimport { AppBarButton } from './styles';\n\nconst LogInOutButton = ({\n  history\n}) => {\n  const client = useApolloClient();\n\n  const login = () => {\n    history.push('/signin');\n  };\n\n  const logOut = () => {\n    client.resetStore && client.resetStore();\n    localStorage.removeItem('authToken');\n    history.push('/signin');\n  };\n\n  const button = isLoggedIn() ? React.createElement(AppBarButton, {\n    type: \"button\",\n    onClick: logOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"LOGOUT\") : window.location.pathname !== '/signin' ? React.createElement(AppBarButton, {\n    type: \"button\",\n    onClick: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"LOGIN\") : null;\n  return button;\n};\n\nexport default withRouter(LogInOutButton);\nLogInOutButton.propTypes = {\n  client: PropTypes.any\n};\nLogInOutButton.defaultProps = {\n  client: {}\n};","map":{"version":3,"sources":["/home/skyparci/work/my-boilerplate/packages/client/src/components/Header/LogInOutButton.js"],"names":["React","PropTypes","withRouter","useApolloClient","isLoggedIn","AppBarButton","LogInOutButton","history","client","login","push","logOut","resetStore","localStorage","removeItem","button","window","location","pathname","propTypes","any","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,UAAT,QAA2B,cAA3B,C,CACA;;AACA,SAASC,eAAT,QAAgC,qBAAhC,C,CACA;;AACA,SAASC,UAAT,QAA2B,OAA3B,C,CACA;;AACA,SAASC,YAAT,QAA6B,UAA7B;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACpC,QAAMC,MAAM,GAAGL,eAAe,EAA9B;;AAEA,QAAMM,KAAK,GAAG,MAAM;AAChBF,IAAAA,OAAO,CAACG,IAAR,CAAa,SAAb;AACH,GAFD;;AAIA,QAAMC,MAAM,GAAG,MAAM;AACjBH,IAAAA,MAAM,CAACI,UAAP,IAAqBJ,MAAM,CAACI,UAAP,EAArB;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACAP,IAAAA,OAAO,CAACG,IAAR,CAAa,SAAb;AACH,GAJD;;AAMA,QAAMK,MAAM,GAAGX,UAAU,KACrB,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,QAAnB;AAA4B,IAAA,OAAO,EAAEO,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADqB,GAIrBK,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,SAA7B,GACA,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,QAAnB;AAA4B,IAAA,OAAO,EAAET,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,GAIA,IARJ;AASA,SAAOM,MAAP;AACH,CAvBD;;AAyBA,eAAeb,UAAU,CAACI,cAAD,CAAzB;AAEAA,cAAc,CAACa,SAAf,GAA2B;AACvBX,EAAAA,MAAM,EAAEP,SAAS,CAACmB;AADK,CAA3B;AAIAd,cAAc,CAACe,YAAf,GAA8B;AAC1Bb,EAAAA,MAAM,EAAE;AADkB,CAA9B","sourcesContent":["import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { withRouter } from 'react-router';\n// apollo\nimport { useApolloClient } from '@apollo/react-hooks';\n// utils\nimport { isLoggedIn } from 'utils';\n// styles\nimport { AppBarButton } from './styles';\n\nconst LogInOutButton = ({ history }) => {\n    const client = useApolloClient();\n\n    const login = () => {\n        history.push('/signin');\n    };\n\n    const logOut = () => {\n        client.resetStore && client.resetStore();\n        localStorage.removeItem('authToken');\n        history.push('/signin');\n    };\n\n    const button = isLoggedIn() ? (\n        <AppBarButton type=\"button\" onClick={logOut}>\n            LOGOUT\n        </AppBarButton>\n    ) : window.location.pathname !== '/signin' ? (\n        <AppBarButton type=\"button\" onClick={login}>\n            LOGIN\n        </AppBarButton>\n    ) : null;\n    return button;\n};\n\nexport default withRouter(LogInOutButton);\n\nLogInOutButton.propTypes = {\n    client: PropTypes.any,\n};\n\nLogInOutButton.defaultProps = {\n    client: {},\n};\n"]},"metadata":{},"sourceType":"module"}